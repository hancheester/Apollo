var AjaxCart = {
    loadWaiting: !1, usePopupNotifications: !1, topCartQuantitySelector: '', topCartSubtotalSelector: '', flyoutCartSelector: '', miniBasketNotifySelector: '', quickModalSelector: '', init: function (usePopupNotifications, topCartQuantitySelector, topCartSubtotalSelector, flyoutCartSelector, miniBasketNotifySelector, quickModalSelector) { this.loadWaiting = !1; this.usePopupNotifications = usePopupNotifications; this.topCartQuantitySelector = topCartQuantitySelector; this.topCartSubtotalSelector = topCartSubtotalSelector; this.flyoutCartSelector = flyoutCartSelector; this.miniBasketNotifySelector = miniBasketNotifySelector; this.quickModalSelector = quickModalSelector }, setLoadWaiting: function (display) { displayAjaxLoading(display); this.loadWaiting = display }, resetLoadWaiting: function () { AjaxCart.setLoadWaiting(!1) }, ajaxFailure: function () { alert('Failed to add the product. Please refresh the page and try one more time.') }, addProductToCart_Catalog: function (urlAdd) {
        if (this.loadWaiting != !1) { return }
        this.setLoadWaiting(!0); $.ajax({ cache: !1, url: urlAdd, type: 'post', success: this.success_process, complete: this.resetLoadWaiting, error: this.ajaxFailure })
    }, addProductToCart_Details: function (urlAdd, formSelector) {
        if (this.loadWaiting != !1) { return }
        this.setLoadWaiting(!0); $.ajax({ cache: !1, url: urlAdd, data: $(formSelector).serialize(), type: 'post', success: this.success_process, complete: this.resetLoadWaiting, error: this.ajaxFailure })
    }, success_process: function (response) {
        if (response.hideQuickAddToCartSection == !0) { $(AjaxCart.quickModalSelector).modal('hide') }
        if (response.updateQuickAddToCartSectionHtml) { $(AjaxCart.quickModalSelector + ' > .modal-dialog').html(response.updateQuickAddToCartSectionHtml); $(AjaxCart.quickModalSelector).modal('show'); return !1 }
        if (response.updateTopCartQuantitySectionHtml) { $(AjaxCart.topCartQuantitySelector).html(response.updateTopCartQuantitySectionHtml) }
        if (response.updateTopCartSubtotalSectionHtml) { $(AjaxCart.topCartSubtotalSelector).html(response.updateTopCartSubtotalSectionHtml) }
        if (response.updateFlyoutCartSectionHtml) { $(AjaxCart.flyoutCartSelector).replaceWith(response.updateFlyoutCartSectionHtml) }
        if (response.updateMiniBasketNotifySectionHtml) { $(AjaxCart.miniBasketNotifySelector).html(response.updateMiniBasketNotifySectionHtml) }
        if (response.message) {
            if (response.success == !0) { if (AjaxCart.usePopupNotifications == !0) { displayPopupNotification(response.message, 'success') } else { if (response.offerMessage) { displayBarNotification(response.message, response.offerMessage, 'success', 0) } else { displayBarNotification(response.message, '', 'success', 3500) } } } else { if (AjaxCart.usePopupNotifications == !0) { displayPopupNotification(response.message, '', 'error') } else { displayBarNotification(response.message, '', 'error', 0) } }
            return !1
        }
        if (response.redirect) { location.href = response.redirect; return !0 }
        return !1
    }
}